<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="view_sale_order_price_fsm" model="ir.ui.view">
        <field name="name">sale.order.form.price.hide.fsm</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='order_line']/form//field[@name='price_unit']" position="attributes">
                <attribute name="groups">bmair_fsm.sale_price_visible_group</attribute>
            </xpath>
            <xpath expr="//field[@name='order_line']/tree//field[@name='price_unit']" position="attributes">
                <attribute name="groups">bmair_fsm.sale_price_visible_group</attribute>
            </xpath>
            <xpath expr="//field[@name='order_line']/tree//field[@name='purchase_price']" position="attributes">
                <attribute name="groups">bmair_fsm.sale_price_visible_group</attribute>
            </xpath>
            <xpath expr="//field[@name='order_line']/form//field[@name='purchase_price']" position="attributes">
                <attribute name="groups">bmair_fsm.sale_price_visible_group</attribute>
            </xpath>

            <xpath expr="//field[@name='order_line']/tree//field[@name='margin']" position="attributes">
                <attribute name="groups">bmair_fsm.sale_price_visible_group</attribute>
            </xpath>
            <xpath expr="//field[@name='order_line']/tree//field[@name='margin_percent']" position="attributes">
                <attribute name="groups">bmair_fsm.sale_price_visible_group</attribute>
            </xpath>
            <xpath expr="//field[@name='order_line']/tree//field[@name='tax_id']" position="attributes">
                <attribute name="groups">bmair_fsm.sale_price_visible_group</attribute>
            </xpath>
            <xpath expr="//field[@name='order_line']/form//field[@name='tax_id']" position="attributes">
                <attribute name="groups">bmair_fsm.sale_price_visible_group</attribute>
            </xpath>
            <xpath expr="//field[@name='order_line']/tree//field[@name='price_subtotal']" position="attributes">
                <attribute name="groups">bmair_fsm.sale_price_visible_group</attribute>
            </xpath>
            <xpath expr="//group[@name='sale_total']" position="attributes">
                <attribute name="groups">bmair_fsm.sale_price_visible_group</attribute>
            </xpath>
            <xpath expr="//field[@name='order_line']/tree//field[@name='discount']" position="attributes">
                <attribute name="groups">bmair_fsm.sale_price_visible_group</attribute>
            </xpath>
            <xpath expr="//label[@for='discount']" position="attributes">
                <attribute name="groups">bmair_fsm.sale_price_visible_group, product.group_discount_per_so_line</attribute>
            </xpath>
            <xpath expr="//div[@name='discount']" position="attributes">
                <attribute name="groups">bmair_fsm.sale_price_visible_group, product.group_discount_per_so_line</attribute>
            </xpath>
            <xpath expr="//field[@name='order_line']/kanban//field[@name='price_subtotal']" position="attributes">
                <attribute name="groups">bmair_fsm.sale_price_visible_group</attribute>
            </xpath>
            <xpath expr="//field[@name='order_line']/kanban//field[@name='price_unit']" position="attributes">
                <attribute name="groups">bmair_fsm.sale_price_visible_group</attribute>
            </xpath>
            <xpath expr="//div[@class='col-4']" position="attributes">
                <attribute name="groups">bmair_fsm.sale_price_visible_group</attribute>
            </xpath>
            <xpath expr="//kanban/templates/t/div/t/div[3]/div" position="attributes">
                <attribute name="groups">bmair_fsm.sale_price_visible_group</attribute>
            </xpath>

        </field>
    </record>

    <record id="view_sale_order_hide_price_kanban_fsm" model="ir.ui.view">
        <field name="name">sale.order.kanban.price.hide.fsm</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_sale_order_kanban"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='amount_total']" position="attributes">
                <attribute name="groups">bmair_fsm.sale_price_visible_group</attribute>
            </xpath>
            <xpath expr="//templates/t/div/div[1]" position="replace">
                <div class="o_kanban_record_top mb16">
                    <div class="o_kanban_record_headings mt4">
                        <strong class="o_kanban_record_title"><span><t t-esc="record.partner_id.value"/></span></strong>
                    </div>
                    <strong><field name="amount_total" widget="monetary" groups="bmair_fsm.sale_price_visible_group"/></strong>
                </div>
            </xpath>
        </field>
    </record>
 </odoo>
