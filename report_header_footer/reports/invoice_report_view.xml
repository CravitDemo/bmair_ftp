<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="bmair_invoice_inherit" inherit_id="account.report_invoice_document">
        <t t-set="address" position="replace">
            <style>table,tr,td {font-size: 17px}</style>
            <table style="width:100%;">
                <tr style="width:100%;">
                    <td style="width:50%;padding-left: 75px;">
                        Invoice Address <br></br>
                        <t t-if="o.partner_id.parent_id.name"><span t-field="o.partner_id.parent_id.name"></span><br></br></t>
                        <t t-if="o.partner_id.name"><span t-field="o.partner_id.name"></span><br></br></t>
                        <address t-field="o.partner_id" t-options='{"widget": "contact", "fields": ["address"], "no_marker": True}' />
                    </td>
                    <td style="width:50%;padding-left: 75px;">
                        <t t-if="o.partner_shipping_id and (o.partner_shipping_id != o.partner_id)">
                            <div groups="sale.group_delivery_invoice_address" name="shipping_address_block">
                                Delivery Address
                                <div t-field="o.partner_shipping_id"
                                    t-options='{"widget": "contact", "fields": ["address", "name"], "no_marker": True}'/>
                            </div>
                        </t>
                    </td>
                </tr>
            </table>
        </t>
        <h2 position="replace">
        </h2>

        <div id="informations" position="replace">
            <br></br>
            <table style="width:100%;" >
                <tr style="width:100%">
                    <td style="width:23%;">Your reference</td>
                    <td style="width:33%;"><span class="m-0" t-field="o.ref"/></td>
                    <td style="width:2%;"/>
                    <td style="width:22%;">Ordernumber</td>
                    <td style="width:20%;">
                        <t>
                            <span class="m-0" t-field="o.invoice_origin"/>
                        </t>
                    </td>
                </tr>
                <tr style="width:100%">
                    <td style="width:23%;">Your customernumber</td>
                    <td style="width:33%;"><span class="m-0" t-field="o.partner_id.commercial_partner_id.ref"/></td>
                    <td style="width:2%;"/>
                    <td style="width:22%;">Delivery date</td>
                    <td style="width:20%;">
                        <t>
                            <t t-if="o.invoice_origin">
                                <span t-esc="o.get_sale_order(o.invoice_origin)"/>
                            </t>
                        </t>
                    </td>
                </tr>
                <tr style="width:100%">
                    <td style="width:23%;">Your contactperson</td>
                    <td style="width:33%;"><span class="m-0" t-esc="o.get_contact_person(o.invoice_origin)" /></td>
                    <td style="width:2%;"/>
                    <td style="width:22%;">Payment terms</td>
                    <td style="width:20%;">
                        <t>
                            <span t-field="o.invoice_payment_term_id"/>
                        </t>
                    </td>
                </tr>
                <tr style="width:100%">
                    <td style="width:23%;">Your VAT number</td>
                    <td style="width:33%;"><span class="m-0" t-field="o.partner_id.vat"/></td>
                    <td style="width:2%;"/>
                    <td style="width:22%;">Invoice date</td>
                    <td style="width:20%;">
                        <t>
                            <span class="m-0" t-field="o.invoice_date"/>
                        </t>
                    </td>
                </tr>
                <tr style="width:100%">
                    <td style="width:23%;">Our contactperson</td>
                    <td style="width:33%;"><span class="m-0" t-esc="o.get_our_contactperson(o.invoice_origin)"/></td>
                    <td style="width:2%;"/>
                    <td style="width:22%;">Due date</td>
                    <td style="width:20%;">
                        <t>
                            <span class="m-0" t-field="o.invoice_date_due"/>
                        </t>
                    </td>
                </tr>
            </table><br/>
        </div>
        <xpath expr="//table[@name='invoice_line_table']/thead" position="attributes">
            <attribute name="style">color: #174784;</attribute>
        </xpath>
        <xpath expr="//p[@name='incoterm']" position="replace">
        </xpath>
        <xpath expr="//table[@name='invoice_line_table']//th[@name='th_priceunit']" position="replace">
            <th name="th_priceunit" t-attf-class="text-right {{ 'd-none d-md-table-cell' if report_type == 'html' else '' }}"><span>Gross price</span></th>
        </xpath>
        <xpath expr="//table[@name='invoice_line_table']/tbody/t/tr/t/td[4]" position="replace">
            <td t-attf-class="text-right {{ 'd-none d-md-table-cell' if report_type == 'html' else '' }}">
                <span class="text-nowrap" t-field="line.price_unit"  t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: o.currency_id}"/>
            </td>
        </xpath>
        <xpath expr="//table[@name='invoice_line_table']//th[@name='th_taxes']" position="replace">
        </xpath>
        <xpath expr="//table[@name='invoice_line_table']/tbody/t/tr/t/td[6]" position="replace">
        </xpath>
        <xpath expr="//table[@name='invoice_line_table']//th[@name='th_price_unit']" position="replace">
            <th name="th_price_unit" t-if="display_discount" t-attf-class="text-right {{ 'd-none d-md-table-cell' if report_type == 'html' else '' }}">
                <span>Discount %</span>
            </th>
        </xpath>
        <xpath expr="//table[@name='invoice_line_table']//th[@name='th_subtotal']" position="replace">
            <th name="th_subtotal" class="text-right">
                <span groups="account.group_show_line_subtotals_tax_excluded">Net Amount</span>
                <span groups="account.group_show_line_subtotals_tax_included">Total Price</span>
            </th>
        </xpath>
        <xpath expr="//p[@name='payment_term']" position="replace">
        </xpath>
        <xpath expr="//p[@name='payment_communication']" position="replace">
            <span>Terms of delivery: <span t-field="o.invoice_incoterm_id.name"/></span>
            <p t-if="o.move_type in ('out_invoice', 'in_refund') and o.name" name="payment_communication">
                <span t-field="o.invoice_payment_term_id.note"/><br/>
                Please state the following reference on your payment : <b><span t-field="o.name"/></b>
            </p>
        </xpath>
    </template>
    <template id="report_invoice_document_uk_specific" inherit_id="account_intrastat.report_invoice_document_intrastat_2019">
        <xpath expr="//th[3]" position="replace">
        </xpath>
        <xpath expr="//th[1]" position="after">
            <th t-if="o.partner_id.lang == 'en_GB'" class="text-right">Origin Country</th>
        </xpath>
        <xpath expr="//td[3]" position="replace">
        </xpath>
        <xpath expr="//td[1]" position="after">
            <td t-if="o.partner_id.lang == 'en_GB'" class="text-right">
                <span t-field="line.intrastat_product_origin_country_id"/>
            </td>
        </xpath>
    </template>
    <report id="action_report_header_footer"
            string="Report Header Footer" model="account.move"
            report_type="qweb-pdf"
            paperformat="report_header_footer.paperformat_report"
            file="report_header_footer.bmair_invoice_inherit"
            name="report_header_footer.bmair_invoice_inherit"
            menu="False" />
</odoo>
