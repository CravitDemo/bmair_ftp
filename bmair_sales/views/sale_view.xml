<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_order_form_ref_change" model="ir.ui.view">
        <field name="name">sale.order.form.ref_change</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='client_order_ref']" position="replace">
            </xpath>
            <xpath expr="//field[@name='validity_date']" position="replace">
            </xpath>
            <xpath expr="//field[@name='partner_shipping_id']" position="after">
        		<field name="partner_contact_id" />
        		<field name="client_order_ref"/>
            </xpath>
            <xpath expr="//field[@name='analytic_account_id']" position="after">
            	<xpath expr="//label[@for='pricelist_id']" position="move"/>
            	<xpath expr="//div[@class='o_row']" position="move"/>
			    <xpath expr="//field[@name='payment_term_id']" position="move"/>
		    </xpath>
		    <xpath expr="//field[@name='show_update_pricelist']" position="before">
        		<field name="validity_date" attrs="{'invisible': [('state', 'in', ['sale', 'done'])]}"/>
            </xpath>
        </field>
    </record>
    <record id="view_order_form_inherit_sale_stock_change_view" model="ir.ui.view">
        <field name="name">sale.order.form.shipping.change</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale_stock.view_order_form_inherit_sale_stock"/>
        <field name="arch" type="xml">
        	<xpath expr="//field[@name='commitment_date']" position="replace" />
        	<xpath expr="//label[@for='commitment_date']" position="replace"/>
        	<xpath expr="//span[@class='text-muted']" position="replace"/>
		    <xpath expr="//field[@name='effective_date']" position="replace" />
            <xpath expr="//field[@name='payment_term_id']" position="after">
            	<label for="commitment_date" string="Delivery Date"/>
            	<div class="o_row">
                     <field name="commitment_date"/>
                     <span class="text-muted" attrs="{'invisible': [('effective_date', '!=', False), ('commitment_date', '!=', False)]}">Expected: <field name="expected_date" widget="date"/></span>
                 </div>
                 <field name="effective_date" attrs="{'invisible': [('effective_date', '=', False)]}"/>
			    <xpath expr="//field[@name='picking_policy']" position="move"/>
		    </xpath>
        </field>
    </record>
<!--     <record id="sale_order_form_quote_change_view" model="ir.ui.view"> -->
<!--         <field name="name">sale.order.form.quote</field> -->
<!--         <field name="model">sale.order</field> -->
<!--         <field name="inherit_id" ref="sale_management.sale_order_form_quote"/> -->
<!--         <field name="arch" type="xml"> -->
<!--         	<xpath expr="//field[@name='sale_order_template_id']" position="replace" /> -->
<!--         </field> -->
<!--     </record> -->
    
    <record id="view_order_form_ref_change_123" model="ir.ui.view">
        <field name="name">sale.order.form.ref_change</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_form"/>
        <field name="arch" type="xml">
            <xpath expr="//form[1]/sheet[1]/group[@name='sale_header']/group[@name='order_details']/div[1]" position="before">
    <xpath expr="//field[@name='sale_order_template_id']" position="move"/>
  </xpath>
        </field>
    </record>
</odoo>